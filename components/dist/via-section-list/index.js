import{getRect}from"../utils/noderef";Component({properties:{scrollHeight:Number,dataSource:Array},data:{cityLetter:[],cityList:[],curentSection:"",curentSectionIndex:"",airClass:""},observers:{dataSource(t){t&&this.handleCityData(t)}},methods:{handleCityCellClick(t){const{item:e}=t.currentTarget.dataset;this.triggerEvent("onClick",e)},handleLetterSelect(t){this.noScroll=!1;const{section:e}=t.currentTarget.dataset;this.setData({curentSection:e,airClass:"section-air-show",curentSectionIndex:"-1"}),setTimeout((()=>{this.setData({airClass:"section-air-hidden"})}),1e3)},handleScrol(t){},handleCityData(t){const e={};let i=t.map((t=>(e[t.index]?e[t.index].push(t):e[t.index]=[t],t.index)));i=Array.from(new Set(i)).sort(),this.setData({cityLetter:i,cityList:e}),this.getRefInfo()},async getRefInfo(){const t=await getRect(this,".section-item",!0);this.refResult=t}}});