import{runAnimotionFrame,clearAnimotion}from"../utils/animate";const _BEZIER_LINE="cubic-bezier(0,-0.54,1,.3)",TIME_RATE=.0012;Component({properties:{start:Object,end:Object},data:{styleX:"",styleY:"",status:!0},ready(){},methods:{async run(t,a){const i=a.x-t.x,n=a.y-t.y,e=this.cacuTimeByDistans(n);this.setData({status:!0},(async()=>{t&&a&&(await Promise.all([this.runAnimotionFrameX(t,i,e),this.runAnimotionFrameY(t,n,e)]),this.clearAnimotionParabola())}))},runAnimotionFrameX(t,a,i){runAnimotionFrame(this,"#ball-box",[{left:`${t.x}px`,top:`${t.y}px`,opacity:1,ease:"linear"},{translateX:`${a}px`,ease:"linear"}],i)},runAnimotionFrameY(t,a,i){return runAnimotionFrame(this,"#ball",[{ease:_BEZIER_LINE},{translateY:`${a}px`,ease:_BEZIER_LINE}],i)},async clearAnimotionParabola(){await clearAnimotion(this,"#ball-box",{opacity:!0}),this.setData({status:!1})},cacuTimeByDistans:t=>Math.ceil(Math.sqrt(t/.0012))}});